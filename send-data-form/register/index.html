<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Register example</title>
  <script src="https://unpkg.com/vue@2"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
<div id="app">
  <form method="post" @submit.prevent="register">
    <label class="label">Name</label>
    <div>
      <input
        v-model="name"
        type="text"
        name="name"
      />
    </div>
    <label class="label">Email</label>
    <div>
      <input
        v-model="email"
        type="email"
        name="email"
      />
    </div>
    <label class="label">Password</label>
    <div>
      <input
        v-model="password"
        type="password"
        name="password"
      />
    </div>
    <br>
    <button type="submit" class="button">
      Register
    </button>
  </form>
</div>
<script type="text/javascript">
var app = new Vue({
  el: "#app",
  data: {
    name: '',
    email: '',
    password: ''
  },
  methods: {
    register () {
      const userData = {
        name: this.name,
        email: this.email,
        password: this.password
      }
      const header = {
        headers: {
          'Content-Type': 'application/json;charset=UTF-8',
          'Access-Control-Allow-Origin': '*',
          'Content-Language': 'en'
        }
      }
      axios.post('http://127.0.0.1:8000/api/register', userData, header)
        .then((response) => {
          console.log(response)
          alert('Success')
        })
        .catch((error) => {
          console.log(this.name)
          console.log(error)
          alert('Access denied')
        })
    }
  }
});
</script>
</body>
</html>